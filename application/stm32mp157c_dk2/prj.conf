# Copyright (c) Direct Drive Technology Co., Ltd. All rights reserved.
# Author: Zhibin Wu <zhibin.wu@directdrivetech.com>
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
# 
#     http://www.apache.org/licenses/LICENSE-2.0
# 
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

# TITA + MIMXRT1061

CONFIG_FPU=y

CONFIG_CPP=y
CONFIG_STD_CPP17=y
CONFIG_GLIBCXX_LIBCPP=y

CONFIG_PICOLIBC=y
CONFIG_PICOLIBC_IO_FLOAT=y
CONFIG_PICOLIBC_IO_LONG_LONG=y

CONFIG_UART_ASYNC_API=y
CONFIG_SERIAL=y
CONFIG_SPI_ASYNC=y

CONFIG_DMA=y
CONFIG_LOG=y
CONFIG_LOG_PRINTK=y
CONFIG_LOG_MODE_DEFERRED=y

CONFIG_FLASH_MAP=y
CONFIG_HWINFO=y

CONFIG_CACHE_MANAGEMENT=y

# CONFIG_MAIN_STACK_SIZE=8192
# CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=16384
CONFIG_HEAP_MEM_POOL_SIZE=32768

CONFIG_SPEED_OPTIMIZATIONS=y
CONFIG_SIZE_OPTIMIZATIONS=y
CONFIG_COMPILER_OPT="-fsingle-precision-constant -finline-functions"

# relocal flash to itcm, not real xip
CONFIG_XIP=y
CONFIG_FLASH_MCUX_FLEXSPI_XIP=y
CONFIG_CODE_ITCM=y

CONFIG_BOOTLOADER_MCUBOOT=y
CONFIG_MCUBOOT_GENERATE_UNSIGNED_IMAGE=y
CONFIG_MCUBOOT_EXTRA_IMGTOOL_ARGS="--version 1.0.0+0"

# For ISR naming, I#{number} = IRQ + 16
# CONFIG_SEGGER_SYSTEMVIEW_ISR_DESC="I#28=SBUS-DMA,I#41=SBUS-UART6,I#51=IMU-SPI4,I#52=CAN1-R,I#53=CAN2-L,I#101=IMU-UPD,I#129=USB,I#170=CAN3-FD"

CONFIG_NVS=y
CONFIG_SETTINGS_NVS=y

CONFIG_SETTINGS=y
CONFIG_SETTINGS_RUNTIME=y

CONFIG_POSIX_CLOCK=y

# For USB
CONFIG_USB_CDC_ACM=y
CONFIG_CDC_ACM_IAD=n

# #For FSM
CONFIG_SMF=y

# ISR IRQ
CONFIG_MULTI_LEVEL_INTERRUPTS=y
CONFIG_2ND_LEVEL_INTERRUPTS=y
CONFIG_3RD_LEVEL_INTERRUPTS=y
